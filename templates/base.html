{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    {% block meta %}
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Johans Digital Forge">
    {% endblock %}

    <title>{% block title %}Johan's Digital Forge{% endblock %}</title>

    {% block extra_meta %}{% endblock %}

    {% block corecss %}
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
        <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome f√∂r ikoner -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'images/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'images/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'images/favicon-16x16.png' %}">
    <link rel="manifest" href="{% static 'images/site.webmanifest' %}">
    {% endblock %}

    {% block extracss %}{% endblock %}

    {% block extra_js %}{% endblock %}

</head>

<body>
    {% include 'includes/header.html' %}

    <main>
        {% block content %}
        <!-- Page content -->
        {% endblock %}
    </main>

{% include 'includes/footer.html' %}

<!-- Cookie Banner -->
<div id="cookie-banner" class="cookie-banner bg-dark text-white p-3 fixed-bottom d-flex justify-content-between align-items-center hidden">
  <div>
    üç™ Vi anv√§nder cookies f√∂r att f√∂rb√§ttra din upplevelse p√• sidan. 
    <a href="{% url 'privacy_policy_sv' %}" class="text-warning">Integritetspolicy</a>
    <a href="{% url 'privacy_policy_en' %}" class="text-warning">Privacy Policy</a>
  </div>
  <button id="accept-cookies" class="btn btn-warning">Acceptera</button>
</div>

<style>
  .cookie-banner {
    z-index: 1050;
  }
  .cookie-banner.hidden {
    display: none !important;
  }
</style>

{% block corejs %}
<script src="{% static 'js/base.js' %}"></script>
<!-- Bootstrap 5 JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const banner = document.getElementById("cookie-banner");
    const acceptBtn = document.getElementById("accept-cookies");

    // Visa banner om cookies inte accepterats
    if (!localStorage.getItem("cookiesAccepted")) {
      banner.classList.remove("hidden");
    }

    // Klick p√• acceptera
    acceptBtn.addEventListener("click", function () {
      localStorage.setItem("cookiesAccepted", "true");
      banner.classList.add("hidden");
    });
  });
</script>

{% endblock %}    
</body>
</html>